{{define "content"}}

  {{with .Marvin}}

<div ng-controller="MarvinCtrl">

  <div class="alert alert-error" ng-repeat="error in errors">
    [[error]]
  </div>

<div class="row-fluid">
  <div class="span3">
    <p>
      {{range $k, $v := .Transitions}}
      <a class="transition btn btn-large btn-block btn-primary" data-transition="{{$k}}">{{$k}} <i class="icon-play"></i></a>{{end}}
    </p>
  </div>

  <div class="span3">

    <div class="alert alert-info">
      <strong>Last transition:</strong> [[state.LastTransition]]
    </div>

      <form ng-submit="changeState()">
	{{range $k, $v := .State.Active}}
	<label class="checkbox"><input type=checkbox ng-model="state.Active['{{$k}}']" ng-change="changeState()">{{$k}}</label>{{end}}
      </form>
    </div>
  </div>
</div>

</div>

  {{end}}

{{end}}
