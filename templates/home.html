{{define "content"}}

  {{with .Marvin}}

<div ng-controller="MarvinCtrl">

  <div class="alert alert-error" ng-repeat="error in errors">
    [[error]]
  </div>

<div class="row-fluid">
  <div class="span3">
    <p>
      {{range $k, $v := .Transitions}}
      <a class="transition btn btn-large btn-block btn-primary" data-transition="{{$k}}">{{$k}} <i class="icon-play"></i></a>{{end}}
    </p>
  </div>

  <div class="span3">

    <div class="alert alert-info">
      <strong>Last transition:</strong> [[state.LastTransition]]
    </div>

      <form ng-submit="changeState()">
	<label class="checkbox"><input type=checkbox ng-model="state.Active['Schedule']" ng-change="changeState()">Schedule</label>
	<label class="checkbox"><input type=checkbox ng-model="state.Active['Nightlights']" ng-change="changeState()">Nightlights</label>
	<label class="checkbox"><input type=checkbox ng-model="state.Active['Daylights']" ng-change="changeState()">Daylights</label>
      </form>
    </div>
  </div>
</div>

</div>

  {{end}}

{{end}}
